<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –†–ö–û ‚Äî –í–¢–ë vs –°–±–µ—Ä (–ò–ü)</title>
  <style>
    body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; margin:0; background:#f6f7fb; color:#111; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 16px; }
    .card { background:#fff; border-radius:16px; padding: 14px; box-shadow: 0 8px 24px rgba(0,0,0,.06); margin-bottom: 12px; }
    h1 { font-size: 18px; margin: 0 0 10px; }
    .muted { color:#666; font-size: 12px; line-height:1.35; }
    .grid { display:grid; grid-template-columns: 1fr; gap: 10px; }
    @media (min-width: 840px){ .grid { grid-template-columns: 1fr 1fr; } }
    label { font-size: 12px; color:#444; display:block; margin-bottom:6px; }
    input, textarea { width: 100%; padding: 12px; border-radius: 12px; border:1px solid #dcdfea; font-size: 16px; box-sizing:border-box; }
    textarea { font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas; font-size: 12px; }
    .btn { width:100%; padding: 12px; border-radius: 12px; border: 0; font-size: 16px; cursor:pointer; background:#111; color:#fff; }
    table { width:100%; border-collapse: collapse; }
    th, td { text-align:left; padding: 10px; border-bottom:1px solid #eee; vertical-align: top; }
    th { font-size: 12px; color:#555; }
    details summary { cursor:pointer; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:space-between; }
    .pill { display:inline-block; padding: 2px 8px; border-radius: 999px; background:#f0f2ff; font-size: 12px; }
    .tabs { display:flex; gap:8px; flex-wrap:wrap; }
    .tab { border:1px solid #dcdfea; background:#fff; padding:10px 12px; border-radius:999px; cursor:pointer; }
    .tab.active { background:#111; color:#fff; border-color:#111; }
    .note { background:#eef7ff; border:1px solid #b7dcff; padding:10px; border-radius:12px; font-size:12px; color:#0b3b66; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>–†–ö–û –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (–ò–ü): –í–¢–ë vs –°–±–µ—Ä</h1>
      <div class="muted">
        –°—á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ: <b>—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–∞—Ä–∏—Ñ–∞</b> + <b>–ø–ª–∞—Ç–µ–∂–∏ —é—Ä–ª–∏—Ü–∞–º –≤ –¥—Ä—É–≥–∏–µ –±–∞–Ω–∫–∏</b> + <b>–≤—ã–≤–æ–¥ —Å–µ–±–µ</b>.
        –ü–µ—Ä–µ–≤–æ–¥—ã –¥—Ä—É–≥–∏–º —Ñ–∏–∑–ª–∏—Ü–∞–º –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ–º.
      </div>

      <div class="tabs" style="margin-top:10px;">
        <button class="tab active" id="tab-calc">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
        <button class="tab" id="tab-data">–î–∞–Ω–Ω—ã–µ</button>
      </div>
    </div>

    <div id="view-calc">
      <div class="card">
        <div class="grid">
          <div>
            <label>–í—ã–≤–æ–¥ —Å–µ–±–µ (–Ω–∞ —Å–≤–æ–∏ —Å—á–µ—Ç–∞/–∫–∞—Ä—Ç—ã), ‚ÇΩ/–º–µ—Å</label>
            <input id="withdraw_self" inputmode="numeric" value="1000000" />
            <div class="muted">–í–¢–ë: 0 ‚ÇΩ –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ (–ø–æ —Ç–≤–æ–µ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏). –°–±–µ—Ä: –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ –ª–∏–º–∏—Ç–∞ –º–æ–¥—É–ª—è, –¥–∞–ª—å—à–µ 2.5%.</div>
          </div>

          <div>
            <label>–ü–ª–∞—Ç–µ–∂–∏ —é—Ä–ª–∏—Ü–∞–º –≤ –¥—Ä—É–≥–∏–µ –±–∞–Ω–∫–∏, —à—Ç/–º–µ—Å</label>
            <input id="payments_other" inputmode="numeric" value="20" />
            <div class="muted">–°–±–µ—Ä: —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞ 100 ‚ÇΩ/–ø–ª–∞—Ç—ë–∂. –í–¢–ë: –ø–æ –ª–∏–º–∏—Ç–∞–º –ø–∞–∫–µ—Ç–∞.</div>
          </div>

          <div>
            <label>–í—Ö–æ–¥—è—â–∏–π –æ–±–æ—Ä–æ—Ç, ‚ÇΩ/–º–µ—Å (–Ω—É–∂–Ω–æ –¥–ª—è –í–¢–ë ¬´–ù–∞ —Å—Ç–∞—Ä—Ç–µ¬ª –∏ ¬´–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç¬ª)</label>
            <input id="incoming" inputmode="numeric" value="1000000" />
          </div>

          <div style="display:flex; align-items:end;">
            <button class="btn" id="calcBtn">–ü–æ—Å—á–∏—Ç–∞—Ç—å</button>
          </div>
        </div>

        <div class="note" style="margin-top:10px;">
          üî• –í—ã–≥–æ–¥–∞: –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –º–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∏—Ç —Å–µ–±–µ, –í–¢–ë –æ–±—ã—á–Ω–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã–≤–æ–¥ = 0 ‚ÇΩ.
          –°–±–µ—Ä –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –¥–æ—Ä–æ–∂–µ, –µ—Å–ª–∏ –≤—ã–≤–æ–¥ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –º–æ–¥—É–ª—è.
        </div>
      </div>

      <div class="card">
        <div class="row">
          <div><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong> <span class="pill" id="ts"></span></div>
          <div class="muted" style="text-align:right;">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –¥–µ—à–µ–≤–ª–µ ‚Üí –¥–æ—Ä–æ–∂–µ</div>
        </div>

        <div style="overflow:auto; margin-top:10px;">
          <table>
            <thead>
              <tr>
                <th>–ë–∞–Ω–∫ / —Ç–∞—Ä–∏—Ñ</th>
                <th>–ò—Ç–æ–≥–æ –≤ –º–µ—Å—è—Ü</th>
                <th>–†–∞—Å—á—ë—Ç</th>
              </tr>
            </thead>
            <tbody id="out"></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="view-data" style="display:none;">
      <div class="card">
        <strong>–î–∞–Ω–Ω—ã–µ (JSON)</strong>
        <div class="muted">–ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞—Ä–∏—Ñ—ã –ø—Ä—è–º–æ —Ç—É—Ç. –ì–ª–∞–≤–Ω–æ–µ ‚Äî —Å–æ–±–ª—é–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É.</div>
        <textarea id="data" style="height: 420px; margin-top:10px;"></textarea>
      </div>
    </div>
  </div>

<script>
  // =======================
  // –î–ê–ù–ù–´–ï: –í–¢–ë + –°–ë–ï–†
  // =======================
  const DEFAULT_DATA = {
    vtb: {
      // –¢–≤–æ—è —Ñ–∏–∫—Å–∞—Ü–∏—è: –≤—ã–≤–æ–¥ —Å–µ–±–µ (–Ω–∞ —Å–≤–æ–∏ —Å—á–µ—Ç–∞/–∫–∞—Ä—Ç—ã) –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π –¥–ª—è –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
      self_withdraw: { percent: 0, limit: "Infinity", note: "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ (–ø–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)" },

      plans: [
        {
          name: "–ù–∞ —Å—Ç–∞—Ä—Ç–µ",
          monthly_fee_rule: { type: "vtb_na_starte", first_3_months_free: true, incoming_free_threshold: 50000, fee_if_below: 490 },
          payments_other_banks: { free_count: 5, price_per_payment: 150 }
        },
        {
          name: "–í—Å—ë –ø–æ –¥–µ–ª—É",
          monthly_fee_flat: 680,
          payments_other_banks: { free_count: 8, price_per_payment: 78 }
        },
        {
          name: "–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ",
          monthly_fee_flat: 1480,
          payments_other_banks: { free_count: 30, price_per_payment: 60 }
        },
        {
          name: "–í—Å–µ –≤–∫–ª—é—á–µ–Ω–æ",
          monthly_fee_flat: 3000,
          payments_other_banks: { free_count: 60, price_per_payment: 55 }
        },
        {
          name: "–ë–æ–ª—å—à–∏–µ –æ–±–æ—Ä–æ—Ç—ã",
          monthly_fee_flat: 5500,
          payments_other_banks: { free_count: 120, price_per_payment: 50 }
        },
        {
          name: "–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç",
          monthly_fee_rule: { type: "percent_of_incoming", percent: 1.0 },
          payments_other_banks: { free_count: "Infinity", price_per_payment: 0 }
        }
      ]
    },

    sber: {
      name: "–°–±–µ—Ä–ë–∏–∑–Ω–µ—Å –ü—Ä–∞–π–º (–º–æ–¥—É–ª–∏)",
      payments_modules: [
        { code: "A", included: 5, cost: 0 },
        { code: "C", included: 50, cost: 1590 },
        { code: "D", included: 150, cost: 2990 }
      ],
      payments_over_fee_per_payment: 100,

      // –í—ã–≤–æ–¥ —Å–µ–±–µ (–ò–ü): –ª–∏–º–∏—Ç –ø–æ –º–æ–¥—É–ª—é + —Å–≤–µ—Ä—Ö 2.5%
      self_withdraw_modules_ip: [
        { code: "A", limit: 500000, cost: 0 },
        { code: "B", limit: 750000, cost: 990 },
        { code: "C", limit: 1000000, cost: 3190 },
        { code: "D", limit: 1500000, cost: 6990 }
      ],
      self_withdraw_over_percent: 2.5
    }
  };

  // =======================
  // UI utils
  // =======================
  const elOut = document.getElementById("out");
  const elTs = document.getElementById("ts");
  const elData = document.getElementById("data");

  function fmtRub(x){
    const n = Math.round(x);
    return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") + " ‚ÇΩ";
  }
  function parseNum(str){
    return Number(String(str).replace(/[^\d]/g, "")) || 0;
  }
  function toInfinity(v){
    if (v === "Infinity") return Infinity;
    if (typeof v === "number") return v;
    return Number(v);
  }

  // =======================
  // CALC: VTB
  // =======================
  function vtbMonthlyFee(plan, incoming){
    if (typeof plan.monthly_fee_flat === "number") return { fee: plan.monthly_fee_flat, note: "—Ñ–∏–∫—Å" };

    const r = plan.monthly_fee_rule;
    if (!r) return { fee: 0, note: "0" };

    if (r.type === "vtb_na_starte"){
      // –í –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ –º—ã –Ω–µ –≤–µ–¥—ë–º "–º–µ—Å—è—Ü –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è", –ø–æ—ç—Ç–æ–º—É —Å—á–∏—Ç–∞–µ–º –ø–æ –ø—Ä–∞–≤–∏–ª—É "–ø–æ—Å–ª–µ 3-–≥–æ –º–µ—Å—è—Ü–∞"
      const fee = (incoming >= r.incoming_free_threshold) ? 0 : r.fee_if_below;
      return { fee, note: `–ø–æ—Å–ª–µ 3-–≥–æ –º–µ—Å: 0 ‚ÇΩ –ø—Ä–∏ –æ–±–æ—Ä–æ—Ç–µ ‚â• ${fmtRub(r.incoming_free_threshold)}, –∏–Ω–∞—á–µ ${fmtRub(r.fee_if_below)}` };
    }

    if (r.type === "percent_of_incoming"){
      const fee = incoming * (r.percent / 100);
      return { fee, note: `${r.percent}% –æ—Ç –≤—Ö–æ–¥—è—â–µ–≥–æ –æ–±–æ—Ä–æ—Ç–∞` };
    }

    return { fee: 0, note: "0" };
  }

  function vtbPaymentsCost(plan, paymentsCount){
    const free = toInfinity(plan.payments_other_banks?.free_count ?? 0);
    const ppp = Number(plan.payments_other_banks?.price_per_payment ?? 0);
    const billable = (free === Infinity) ? 0 : Math.max(0, paymentsCount - free);
    const cost = billable * ppp;
    return { cost, text: `${paymentsCount} —à—Ç (–±–µ—Å–ø–ª–∞—Ç–Ω–æ ${free===Infinity?"‚àû":free}) ‚Üí –ø–ª–∞—Ç–Ω—ã—Ö ${billable} √ó ${fmtRub(ppp)} = ${fmtRub(cost)}` };
  }

  function calcVTB(data, input){
    const rows = [];
    for (const plan of data.vtb.plans){
      const parts = [];
      const feeRes = vtbMonthlyFee(plan, input.incoming);
      parts.push(`–ü–∞–∫–µ—Ç: ${fmtRub(feeRes.fee)} (${feeRes.note})`);

      const pmtRes = vtbPaymentsCost(plan, input.payments_other);
      parts.push(`–ü–ª–∞—Ç–µ–∂–∏ —é—Ä–ª–∏—Ü–∞–º –≤ –¥—Ä—É–≥–∏–µ –±–∞–Ω–∫–∏: ${pmtRes.text}`);

      // –í—ã–≤–æ–¥ —Å–µ–±–µ ‚Äî 0
      parts.push(`–í—ã–≤–æ–¥ —Å–µ–±–µ: 0 ‚ÇΩ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ)`);

      const total = feeRes.fee + pmtRes.cost;
      rows.push({
        bank: "–í–¢–ë",
        tariff: plan.name,
        total,
        details: parts
      });
    }
    return rows;
  }

  // =======================
  // CALC: SBER (auto pick modules)
  // =======================
  function pickCheapestCover(modules, required){
    // –≤—ã–±–∏—Ä–∞–µ–º —Å–∞–º—ã–π –¥–µ—à—ë–≤—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫—Ä—ã–≤–∞–µ—Ç required (included/limit)
    const ok = modules.filter(m => typeof m.included === "number" && m.included >= required);
    if (ok.length) return ok.sort((a,b)=>a.cost-b.cost)[0];
    return null;
  }
  function pickCheapestCoverLimit(modules, required){
    const ok = modules.filter(m => typeof m.limit === "number" && m.limit >= required);
    if (ok.length) return ok.sort((a,b)=>a.cost-b.cost)[0];
    return null;
  }
  function pickMaxIncluded(modules){
    return modules.slice().sort((a,b)=>(b.included??0)-(a.included??0))[0] || null;
  }
  function pickMaxLimit(modules){
    return modules.slice().sort((a,b)=>(b.limit??0)-(a.limit??0))[0] || null;
  }

  function calcSberAuto(data, input){
    const parts = [];

    // –ü–ª–∞—Ç–µ–∂–∏ (—à—Ç)
    let payMod = pickCheapestCover(data.sber.payments_modules, input.payments_other);
    let payOver = 0;
    if (!payMod){
      payMod = pickMaxIncluded(data.sber.payments_modules);
      const included = payMod?.included ?? 0;
      const overCnt = Math.max(0, input.payments_other - included);
      payOver = overCnt * data.sber.payments_over_fee_per_payment;
    }
    const payCost = (payMod?.cost ?? 0) + payOver;
    parts.push(`–ú–æ–¥—É–ª—å –ø–ª–∞—Ç–µ–∂–µ–π: ${payMod?.code ?? "‚Äî"} (${payMod?.included ?? 0} —à—Ç) = ${fmtRub(payMod?.cost ?? 0)}; —Å–≤–µ—Ä—Ö = ${fmtRub(payOver)}`);

    // –í—ã–≤–æ–¥ —Å–µ–±–µ (‚ÇΩ)
    const withdraw = input.withdraw_self;
    let wMod = pickCheapestCoverLimit(data.sber.self_withdraw_modules_ip, withdraw);
    let wOver = 0;
    if (!wMod){
      wMod = pickMaxLimit(data.sber.self_withdraw_modules_ip);
      const limit = wMod?.limit ?? 0;
      const overAmt = Math.max(0, withdraw - limit);
      wOver = overAmt * (data.sber.self_withdraw_over_percent / 100);
    }
    const wCost = (wMod?.cost ?? 0) + wOver;
    parts.push(`–ú–æ–¥—É–ª—å –≤—ã–≤–æ–¥–∞ —Å–µ–±–µ: ${wMod?.code ?? "‚Äî"} (–ª–∏–º–∏—Ç ${fmtRub(wMod?.limit ?? 0)}) = ${fmtRub(wMod?.cost ?? 0)}; —Å–≤–µ—Ä—Ö 2.5% = ${fmtRub(wOver)}`);

    const total = payCost + wCost;

    return [{
      bank: "–°–±–µ—Ä",
      tariff: `–ü—Ä–∞–π–º (–∞–≤—Ç–æ): –ø–ª–∞—Ç–µ–∂–∏ ${payMod?.code ?? "?"} + –≤—ã–≤–æ–¥ ${wMod?.code ?? "?"}`,
      total,
      details: parts
    }];
  }

  // =======================
  // RENDER
  // =======================
  function render(){
    elTs.textContent = new Date().toLocaleString("ru-RU");

    let data;
    try{
      data = JSON.parse(elData.value);
    }catch(e){
      elOut.innerHTML = `<tr><td colspan="3"><b>–û—à–∏–±–∫–∞ JSON:</b> ${e.message}</td></tr>`;
      return;
    }

    const input = {
      withdraw_self: parseNum(document.getElementById("withdraw_self").value),
      payments_other: parseNum(document.getElementById("payments_other").value),
      incoming: parseNum(document.getElementById("incoming").value)
    };

    const rows = [
      ...calcVTB(data, input),
      ...calcSberAuto(data, input)
    ].sort((a,b)=>a.total-b.total);

    elOut.innerHTML = rows.map(r => `
      <tr>
        <td><strong>${r.bank}</strong><div class="muted">${r.tariff}</div></td>
        <td><strong>${fmtRub(r.total)}</strong></td>
        <td>
          <details>
            <summary>–ü–æ–∫–∞–∑–∞—Ç—å</summary>
            <div class="muted" style="margin-top:6px;">
              ${r.details.map(x => `‚Ä¢ ${x}`).join("<br/>")}
            </div>
          </details>
        </td>
      </tr>
    `).join("");
  }

  // =======================
  // Tabs
  // =======================
  function setTab(which){
    const calc = document.getElementById("view-calc");
    const data = document.getElementById("view-data");
    const t1 = document.getElementById("tab-calc");
    const t2 = document.getElementById("tab-data");

    calc.style.display = (which==="calc") ? "" : "none";
    data.style.display = (which==="data") ? "" : "none";

    t1.classList.toggle("active", which==="calc");
    t2.classList.toggle("active", which==="data");
  }
  document.getElementById("tab-calc").addEventListener("click", ()=>setTab("calc"));
  document.getElementById("tab-data").addEventListener("click", ()=>setTab("data"));

  // init
  elData.value = JSON.stringify(DEFAULT_DATA, null, 2);
  document.getElementById("calcBtn").addEventListener("click", render);
  ["withdraw_self","payments_other","incoming"].forEach(id=>{
    const DATA_TAB_PASSWORD = "0101";

document.getElementById("tab-data").addEventListener("click", () => {

  // –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å —É–∂–µ –≤–≤–æ–¥–∏–ª–∏ ‚Äî –ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É
  if (localStorage.getItem("data_tab_unlocked") === "1") {
    setTab("data");
    return;
  }

  const entered = prompt("–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∫–ª–∞–¥–∫–µ ¬´–î–∞–Ω–Ω—ã–µ¬ª:");
  if (entered === null) return; // –æ—Ç–º–µ–Ω–∞

  if (entered === DATA_TAB_PASSWORD) {
    localStorage.setItem("data_tab_unlocked", "1");
    setTab("data");
  } else {
    alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");
    setTab("calc");
  }
});
  });
  render();
</script>
<script>
(function () {
  // 1) inject CSS for dark mode
  const st = document.createElement("style");
  st.textContent = `
    body.dark { background:#0f1115 !important; color:#e6e6e6 !important; }
    body.dark .card { background:#161a22 !important; box-shadow:none !important; }
    body.dark input, body.dark textarea {
      background:#0f1115 !important; color:#e6e6e6 !important; border:1px solid #2a2f3a !important;
    }
    body.dark table th, body.dark table td { border-color:#2a2f3a !important; }
    body.dark .muted { color:#9aa0aa !important; }
    body.dark .tab { background:#161a22 !important; border-color:#2a2f3a !important; color:#e6e6e6 !important; }
    body.dark .tab.active { background:#fff !important; color:#111 !important; }
  `;
  document.head.appendChild(st);

  // 2) create toggle button
  const btn = document.createElement("button");
  btn.id = "themeToggle";
  btn.title = "–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É";
  btn.style.cssText = `
    position: fixed;
    top: 12px;
    right: 12px;
    z-index: 2147483647;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    font-size: 20px;
    background: #111;
    color: #fff;
  `;
  btn.textContent = "üåô";
  document.body.appendChild(btn);

  // 3) load saved theme
  const saved = localStorage.getItem("theme");
  if (saved === "dark") {
    document.body.classList.add("dark");
    btn.textContent = "üåû";
  }

  // 4) toggle
  btn.addEventListener("click", () => {
    const isDark = document.body.classList.toggle("dark");
    btn.textContent = isDark ? "üåû" : "üåô";
    localStorage.setItem("theme", isDark ? "dark" : "light");
  });
})();
</script>
<footer style="
  margin-top: 24px;
  padding: 16px;
  text-align: center;
  font-size: 12px;
  color: #777;
">
  –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –ë–∞–π—Ä–∞–º–æ–≤ –°–æ–ª—Ç–∞–Ω ¬∑ 2026
</footer>
</body>
</html>